"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40784,61575],{68502:function(r,n,e){e.d(n,{L:function(){return t},Z:function(){return o}});var i=e(38398),t=r=>{var{urlParams:n={}}=r,e="/groups/".concat(n.groupId);return{url:e,formattedUrl:(0,i.format)({pathname:e})}},o=r=>{var{urlParams:n={}}=r,e="/groups/".concat(n.groupId,"/users");return{url:e,formattedUrl:(0,i.format)({pathname:e,query:{perPage:5e3}})}}},40784:function(r,n,e){e.r(n),e.d(n,{LoggedInUserTypeRedirect:function(){return m}});var i=e(57460),t=e(6692),o=e(33058),a=e(18695),u=e(1880),d=e(55086),l=e(42101),s=e(21805),c=e(70314),f=e.n(c),v=e(2784),p=e(11711),{publicRuntimeConfig:{enterpriseBaseUrl:w,shutterstockBaseUrl:g}}=f()(),m=()=>{var r=(0,d.d)(),{isBrandEnterprise:n,isBrandSstk:e}=(0,u.D)(),c=(0,l.T)();return(0,v.useEffect)(()=>{var u,d,l,f,v,m,_,h;if(r&&!c&&(!e||r.isEnterpriseUser)&&(!n||!r.isEnterpriseUser)){if(e&&r.isEnterpriseUser){if(window.location.href.includes(g)){null===(f=window.NREUM)||void 0===f||null===(l=f.addPageAction)||void 0===l||l.call(f,"UP3-1623 assign enterprise url to href",(0,t._)((0,i._)({},window.location||{}),{enterpriseBaseUrl:w,isBrandEnterprise:n,isBrandSstk:e,isEnterpriseUser:r.isEnterpriseUser,shutterstockBaseUrl:g})),window.location.href=window.location.href.replace(g,w);return}null===(d=window.NREUM)||void 0===d||null===(u=d.addPageAction)||void 0===u||u.call(d,"UP3-1623 force the experience into enterprise by reload",(0,i._)((0,t._)((0,i._)({},window.location||{}),{isBrandEnterprise:n,isBrandSstk:e,isEnterpriseUser:r.isEnterpriseUser}),r)),s.Z.set(o.FORCE_APP_COOKIE,o.ENT),(0,p.zg)("entCookieSet");return}if(n&&void 0!==r.userType&&!r.isEnterpriseUser){if(window.location.href.includes(w)){s.Z.remove(a.$p),null===(h=window.NREUM)||void 0===h||null===(_=h.addPageAction)||void 0===_||_.call(h,"UP3-1623 force the experience into enterprise by setting the href",(0,i._)((0,t._)((0,i._)({},window.location||{}),{isBrandSstk:e,isBrandEnterprise:n,isEnterpriseUser:r.isEnterpriseUser,enterpriseBaseUrl:w,shutterstockBaseUrl:g}),r)),window.location.href=window.location.href.replace(w,g);return}null===(m=window.NREUM)||void 0===m||null===(v=m.addPageAction)||void 0===v||v.call(m,"UP3-1623 force the experience into www by reload",(0,i._)((0,t._)((0,i._)({},window.location||{}),{isBrandSstk:e,isBrandEnterprise:n,isEnterpriseUser:r.isEnterpriseUser}),r)),s.Z.set(o.FORCE_APP_COOKIE,o.SSTK),(0,p.zg)("sstkCookieSet")}console.log("UP3-1623 this is an unexpected scenario")}},[r,n,e,c]),null}},46447:function(r,n,e){e.d(n,{HV:function(){return i},mC:function(){return o},mh:function(){return t}});var i="sstk-org",t="shutterstock-photo",o="shutterstock-premier"},85981:function(r,n,e){e.d(n,{EJ:function(){return t},G4:function(){return i},ly:function(){return o}});var i="personal",t="team-enterprise",o="team-premier"},37485:function(r,n,e){e.d(n,{d:function(){return d}});var i=e(57460),t=e(6692),o=e(2784),a=e(88759),u=e(91072),d=()=>{var{data:r}=(0,a.jy)(),{data:n}=(0,u.u)();return(0,o.useCallback)(e=>{var o,a,{actionName:u,customAttributes:d={}}=e,l=(0,t._)((0,i._)({},d),{userId:null==r?void 0:r.id,impersonatorId:n.impersonatorId,organizationId:null==r?void 0:r.organizationId,msg:u,referrerPath:window.location.pathname,referrerQuery:window.location.search});null===(a=window.NREUM)||void 0===a||null===(o=a.addPageAction)||void 0===o||o.call(a,u,(0,i._)({},window.location||{},l))},[r,n])}},14714:function(r,n,e){e.d(n,{W:function(){return l}});var i=e(68502),t=e(66487),o=e(82124),a=e(68782),u=e(3255),d=e(37485),l=r=>{var{data:n,mutate:e}=(0,u.ZP)(r?(0,i.L)({urlParams:{groupId:r}}).formattedUrl:null,r=>t.mV.get(r)),l=(0,d.d)();return n&&!n.data&&l({actionName:"FREN-503 - useFetchOrganization meta error",customAttributes:{response:n,organizationId:r}}),{data:(null==n?void 0:n.data)?(0,a.Y)((0,o.O)(n.data)):void 0,mutate:e}}},12249:function(r,n,e){e.d(n,{B:function(){return f}});var i=e(57460),t=e(9774),o=e(22253),a=e(46447),u=e(34686),d=e(18271),l=e(82124),s=e(3255),c=e(88759),f=function(){var{queryParams:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:n}=(0,c.jy)(),e=(0,i._)({target:o.dlz,site_name:a.mC,setting_type:o.dlz},r);return(0,s.ZP)((null==n?void 0:n.id)&&(null==n?void 0:n.organizationId)&&(0,t.nI)({queryParams:e}).formattedUrl,r=>d.uS.get(r).then(r=>(0,l.O)(r.data)),{dedupingInterval:u.yR})}},55086:function(r,n,e){e.d(n,{d:function(){return g}});var i=e(57460),t=e(6692),o=e(2281),a=e(46447),u=e(85981),d=e(70314),l=e.n(d),s=e(12249),c=e(14714),f=e(88759),v=e(7027),p=/http.*.com/,{publicRuntimeConfig:{assets:{avatarThumbsUrl:w}}}=l()(),g=()=>{var r,{data:n,isLoading:e}=(0,f.jy)(),{data:d,mutate:l,isLoading:g}=(0,s.B)({queryParams:{site_name:a.HV}}),{data:m,isLoading:_,mutate:h}=(0,c.W)(null==n?void 0:n.organizationId),{data:U,isLoading:E}=(0,v.Z)(null==n?void 0:n.id);if(!(null==n?void 0:n.organizationId))return(0,t._)((0,i._)({},n),{userType:(null==n?void 0:n.id)?u.G4:void 0,isEnterpriseUser:!1,workspaces:U});if(e||_||E||g)return null;var P={},y={};if(n){var{roles:I}=n,k=(0,o._)(n,["roles"]);P=(0,i._)({},P,k)}if((null==n?void 0:n.id)&&(null==U?void 0:U.length)>=1){var C="".concat(null==n?void 0:n.id,"-").concat(null==n?void 0:n.organizationId);r=null==(y=U.find(r=>(null==r?void 0:r.id)===C))?void 0:y.type}if(m){var{id:R,displayName:z}=m,N=(0,o._)(m,["id","displayName"]);P=(0,t._)((0,i._)({},P,N),{teamName:z})}if(d){var{avatarOriginalUrl:b,avatarThumbnailUrl:O}=d;P=(0,t._)((0,i._)({},P),{avatarThumbnailUrl:null==O?void 0:O.replace(p,w),avatarOriginalUrl:b})}return(0,t._)((0,i._)({},P),{mutateOrgSettings:l,mutateTeamData:h,isEnterpriseUser:r===u.EJ,userType:r,workspaces:U,currentUserWorkspace:y})}},7027:function(r,n,e){e.d(n,{Z:function(){return l}});var i=e(57460),t=e(9774),o=e(42101),a=e(18271),u=e(82124),d=e(3255),l=r=>{var n=(0,o.T)(),e={urlParams:{id:r},queryParams:(0,i._)({},n&&{accept_invite:1})};return(0,d.ZP)(r?(0,t.Y2)(e).formattedUrl:null,r=>a.uS.get(r).then(r=>{var{data:n}=r;if(n)return(0,u.O)(n)}))}},42101:function(r,n,e){e.d(n,{T:function(){return t}});var i=e(5632),t=()=>{var{pathname:r}=(0,i.useRouter)();return"/account/invite/accept/[organizationId]"===r}}}]);
//# sourceMappingURL=40784.f90cbe54eef6f5a7.js.map